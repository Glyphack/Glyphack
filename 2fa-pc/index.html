<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><link rel=icon type=image/ico href=https:/glyphack.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https:/glyphack.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https:/glyphack.com/favicon-32x32.png><link rel=icon type=image/png sizes=192x192 href=https:/glyphack.com/android-chrome-192x192.png><link rel=apple-touch-icon sizes=180x180 href=https:/glyphack.com/apple-touch-icon.png><meta name=description content><title>How to Setup 2 Factor Authentication Code Generator on PC | Glyphack</title><link rel=canonical href=https://glyphack.com/2fa-pc/><meta property="og:url" content="https://glyphack.com/2fa-pc/"><meta property="og:site_name" content="Glyphack"><meta property="og:title" content="How to Setup 2 Factor Authentication Code Generator on PC"><meta property="og:description" content="I use 2 factor authentication with almost all of my accounts, the only downside of this is that when I need to access something frequently or automate some task I have to manually enter this code from my phone.
So I searched a bit and found these tools to make this process easier, I imported 2fa keys to my laptop and can generate keys with a command so I can copy the code and also the command can be used in automated tasks. Note that in this way anyone with access to your laptop has access to 2fa codes too."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-03-17T23:19:14+03:30"><meta property="article:modified_time" content="2022-03-17T23:19:14+03:30"><meta property="article:tag" content="Tools"><link rel=stylesheet href=/assets/combined.min.455b53327434f234e64209735e8469bb37465ce15a3ebc45a1a586dd5e74c673.css media=all><script async defer data-website-id=e8710f0c-a6f2-4d2d-8b95-ef6b66e72226 src=https://cloud.umami.is/script.js></script></head><body class=light><div class=content><header><div class=header><h1 class=header-title><a href=https://glyphack.com/>Glyphack</a></h1><div class=flex><p class=small><a href=/>/Home</a></p><p class=small><a href=/blog/>/Blog</a></p><p class=small><a href=/projects/>/Projects</a></p><p class=small><a href=/now/>/Now</a></p><p class=small><a href=/reading-list/>/Reading List</a></p><p class=small><a href=https://r.glyphack.com/s/s>/Reads This</a></p><p class=small><a href="https://docs.google.com/document/d/1XgC2Va8ZgJ2DrmRKpgd_7iVjv8aASnn8nzl6DgkR1mg/edit?usp=sharing">/Resume</a></p></div></div></header><main class=main><div class=breadcrumbs><a href=/>Home</a><span class=breadcrumbs-separator>/</span><a href=/blog/>Blog</a><span class=breadcrumbs-separator>/</span>
<a href=/2fa-pc/>How to Setup 2 Factor Authentication Code Generator on PC</a></div><div><article><header class=single-intro-container><h1 class=single-title>How to Setup 2 Factor Authentication Code Generator on PC</h1><p class=single-readtime><time datetime=2022-03-17T23:19:14+03:30>March 17, 2022</time></p></header><div class=single-content><p>I use 2 factor authentication with almost all of my accounts, the only downside of this is that when I need to access something frequently or automate some task I have to manually enter this code from my phone.</p><p>So I searched a bit and found these tools to make this process easier, I imported 2fa keys to my laptop and can generate keys with a command so I can copy the code and also the command can be used in automated tasks. Note that in this way anyone with access to your laptop has access to 2fa codes too.</p><h2 class=heading id=setup-2fa-code-on-your-machine>Setup 2FA code on your machine
<a class=anchor href=#setup-2fa-code-on-your-machine>#</a></h2><p>Here&rsquo;s the process:</p><h3 class=heading id=1-export-2fa-accounts-from-google-authenticator>1. Export 2FA Accounts From Google Authenticator
<a class=anchor href=#1-export-2fa-accounts-from-google-authenticator>#</a></h3><p>You probably have already setup your accounts with google authenticator. You can use the <a href="https://support.google.com/accounts/thread/107807857/how-to-export-2fa-codes-from-google-authenticator?hl=en">export option</a> to export the accounts you need. Export will be a qr code so you need a way to convert it to text. On mac I did it with <a href="https://apps.apple.com/us/app/qr-journal/id483820530?mt=12">qr journal</a> .</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>brew install --cask qr-journal
</span></span></code></pre></div><h3 class=heading id=2-extract-account-secret-key>2. Extract Account Secret Key
<a class=anchor href=#2-extract-account-secret-key>#</a></h3><p>Once you have the qr code as text you can use <a href=https://github.com/scito/extract_otp_secret_keys>extract_otp_secret_keys</a> to read the text and get the secret strings. save exported qr code in a text file and read it with like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>gh repo clone scito/extract_otp_secret_keys
</span></span><span style=display:flex><span>python extract_otp_secret_keys/extract_otp_secret_keys.py -p exported.txt
</span></span></code></pre></div><p>This will output the final secret key for accounts.</p><h3 class=heading id=3-install-a-2fa-code-generator>3. Install a 2FA Code Generator
<a class=anchor href=#3-install-a-2fa-code-generator>#</a></h3><p>I used the <a href=https://github.com/rsc/2fa>2fa</a> app to import accounts in terminal.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>go install rsc.io/2fa@latest
</span></span><span style=display:flex><span>2fa -add account_name
</span></span></code></pre></div><p>Now that you have this you can use the command <code>2fa</code> to get all of your accounts 2FA codes or <code>2fa account_name</code> to get the 2FA code for a specific account, the latter is useful when writing scripts.</p></div></article><div class=single-pagination><hr><div class=flexnowrap><div class=single-pagination-prev><div class=single-pagination-container-prev><div class=single-pagination-text>←</div><div class=single-pagination-text><a href=/fixing-one-bug-leads-to-another/>Fixing One Bug Leads to Another</a></div></div></div><div class=single-pagination-next><div class=single-pagination-container-next><div class=single-pagination-text><a href=/stateful-stream-processing/>Stateful Stream Processing</a></div><div class=single-pagination-text>→</div></div></div></div><hr></div><div class=back-to-top><a href=#top>back to top</a></div></div></main></div><footer><p>Powered by
<a href=https://gohugo.io/>Hugo</a>
and
<a href=https://github.com/tomfran/typo>tomfran/typo</a></p></footer></body><script src=/js/theme-switch.js></script><script defer src=/js/copy-code.js></script></html>